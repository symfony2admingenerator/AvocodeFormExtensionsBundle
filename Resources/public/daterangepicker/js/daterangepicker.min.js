;!function(b){var a=function(k,s,i){var q=typeof s=="object";var f;this.startDate=Date.today();this.endDate=Date.today();this.minDate=false;this.maxDate=false;this.changed=false;this.cleared=false;this.showDropdowns=false;this.dropdownAdjusts=false;this.ranges={};this.dateLimit=false;this.opens="right";this.cb=function(){};this.format="MM/dd/yyyy";this.separator=" - ";this.showWeekNumbers=false;this.buttonClasses=["btn"];this.applyClass="btn btn-small btn-success";this.clearClass="btn btn-small";this.locale={applyLabel:"Apply",clearLabel:"Clear",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Date.CultureInfo.shortestDayNames,monthNames:Date.CultureInfo.monthNames,firstDay:0};f=this.locale;this.leftCalendar={month:Date.today().set({day:1,month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),calendar:Array()};this.rightCalendar={month:Date.today().set({day:1,month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),calendar:Array()};this.element=b(k);if(this.element.hasClass("pull-right")){this.opens="left";}if(this.element.is("input")){this.element.on({click:b.proxy(this.show,this),focus:b.proxy(this.show,this)});}else{this.element.on("click",b.proxy(this.show,this));}if(q){if(typeof s.locale=="object"){b.each(f,function(t,c){f[t]=s.locale[t]||c;});}if(s.applyClass){this.applyClass=s.applyClass;}if(s.clearClass){this.clearClass=s.clearClass;}}var d='<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input" style="float: left"><label for="daterangepicker_start">'+this.locale.fromLabel+'</label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input" style="float: left; padding-left: 11px"><label for="daterangepicker_end">'+this.locale.toLabel+'</label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="'+this.applyClass+' applyBtn" disabled="disabled">'+this.locale.applyLabel+'</button>&nbsp;<button class="'+this.clearClass+' clearBtn">'+this.locale.clearLabel+"</button></div></div></div>";this.container=b(d).appendTo("body");if(q){if(typeof s.format=="string"){this.format=s.format;}if(typeof s.separator=="string"){this.separator=s.separator;}if(typeof s.startDate=="string"){this.startDate=Date.parseExact(s.startDate,this.format);}if(typeof s.endDate=="string"){this.endDate=Date.parseExact(s.endDate,this.format);}if(typeof s.minDate=="string"){this.minDate=Date.parseExact(s.minDate,this.format);}if(typeof s.maxDate=="string"){this.maxDate=Date.parseExact(s.maxDate,this.format);}if(typeof s.startDate=="object"){this.startDate=s.startDate;}if(typeof s.endDate=="object"){this.endDate=s.endDate;}if(typeof s.minDate=="object"){this.minDate=s.minDate;}if(typeof s.maxDate=="object"){this.maxDate=s.maxDate;}if(typeof s.ranges=="object"){for(var m in s.ranges){var e=s.ranges[m][0];var j=s.ranges[m][1];if(typeof e=="string"){e=Date.parse(e);}if(typeof j=="string"){j=Date.parse(j);}if(this.minDate&&e<this.minDate){e=this.minDate;}if(this.maxDate&&j>this.maxDate){j=this.maxDate;}if((this.minDate&&j<this.minDate)||(this.maxDate&&e>this.maxDate)){continue;}this.ranges[m]=[e,j];}var n="<ul>";for(var m in this.ranges){n+="<li>"+m+"</li>";}n+="<li>"+this.locale.customRangeLabel+"</li>";n+="</ul>";this.container.find(".ranges").prepend(n);}if(typeof s.dateLimit=="object"){this.dateLimit=s.dateLimit;}if(typeof s.locale=="object"){if(typeof s.locale.firstDay=="number"){this.locale.firstDay=s.locale.firstDay;var l=s.locale.firstDay;while(l>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());l--;}}}if(typeof s.opens=="string"){this.opens=s.opens;}if(typeof s.showWeekNumbers=="boolean"){this.showWeekNumbers=s.showWeekNumbers;}if(typeof s.buttonClasses=="string"){this.buttonClasses=[s.buttonClasses];}if(typeof s.buttonClasses=="object"){this.buttonClasses=s.buttonClasses;}if(typeof s.showDropdowns=="boolean"){this.showDropdowns=s.showDropdowns;}if(typeof s.dropdownAdjusts=="boolean"){this.dropdownAdjusts=s.dropdownAdjusts;}}var p=this.container;b.each(this.buttonClasses,function(c,t){p.find("button").addClass(t);});if(this.opens=="right"){var h=this.container.find(".calendar.left");var r=this.container.find(".calendar.right");h.removeClass("left").addClass("right");r.removeClass("right").addClass("left");}if(typeof s=="undefined"||typeof s.ranges=="undefined"){this.container.find(".calendar").show();this.move();}if(typeof i=="function"){this.cb=i;}this.container.addClass("opens"+this.opens);if(!q||(typeof s.startDate=="undefined"&&typeof s.endDate=="undefined")){if(b(this.element).is("input[type=text]")){var g=b(this.element).val();var o=g.split(this.separator);if(o.length==2){this.startDate=Date.parseExact(o[0],this.format);this.endDate=Date.parseExact(o[1],this.format);}}}this.container.on("mousedown",b.proxy(this.mousedown,this));this.container.find(".calendar").on("click",".prev",b.proxy(this.clickPrev,this));this.container.find(".calendar").on("click",".next",b.proxy(this.clickNext,this));this.container.find(".ranges").on("click","button.applyBtn",b.proxy(this.clickApply,this));this.container.find(".ranges").on("click","button.clearBtn",b.proxy(this.clickClear,this));this.container.find(".calendar").on("click","td.available",b.proxy(this.clickDate,this));this.container.find(".calendar").on("mouseenter","td.available",b.proxy(this.enterDate,this));this.container.find(".calendar").on("mouseleave","td.available",b.proxy(this.updateView,this));this.container.find(".ranges").on("click","li",b.proxy(this.clickRange,this));this.container.find(".ranges").on("mouseenter","li",b.proxy(this.enterRange,this));this.container.find(".ranges").on("mouseleave","li",b.proxy(this.updateView,this));this.container.find(".calendar").on("change","select.yearselect",b.proxy(this.updateYear,this));this.container.find(".calendar").on("change","select.monthselect",b.proxy(this.updateMonth,this));this.element.on("keyup",b.proxy(this.updateFromControl,this));this.updateView();this.updateCalendars();};a.prototype={constructor:a,mousedown:function(c){c.stopPropagation();if(!this.showDropdowns||b(c.target).not("select").length){c.preventDefault();}},updateView:function(){this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.container.find("input[name=daterangepicker_start]").val(this.startDate.toString(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.toString(this.format));if(this.startDate.equals(this.endDate)||this.startDate.isBefore(this.endDate)){this.container.find("button.applyBtn").removeAttr("disabled");}else{this.container.find("button.applyBtn").attr("disabled","disabled");}},updateFromControl:function(){if(!this.element.is("input")){return;}var d=this.element.val().split(this.separator);var e=Date.parseExact(d[0],this.format);var c=Date.parseExact(d[1],this.format);if(e==null||c==null){return;}if(c.isBefore(e)){return;}this.startDate=e;this.endDate=c;this.updateView();this.cb(this.startDate,this.endDate);this.updateCalendars();},notify:function(){if(!this.cleared){this.updateView();}if(this.element.is("input")){this.element.val(this.cleared?"":this.startDate.toString(this.format)+this.separator+this.endDate.toString(this.format));}var d=(this.cleared?null:this.startDate),c=(this.cleared?null:this.endDate);this.cleared=false;this.cb(d,c);},move:function(){var c=b(this.container).find(".ranges").outerWidth();if(b(this.container).find(".calendar").is(":visible")){var d=24;c+=b(this.container).find(".calendar").outerWidth()*2+d;}if(this.opens=="left"){this.container.css({top:this.element.offset().top+this.element.outerHeight(),right:b(window).width()-this.element.offset().left-this.element.outerWidth(),left:"auto","min-width":c});if(this.container.offset().left<0){this.container.css({right:"auto",left:9});}}else{this.container.css({top:this.element.offset().top+this.element.outerHeight(),left:this.element.offset().left,right:"auto","min-width":c});if(this.container.offset().left+this.container.outerWidth()>b(window).width()){this.container.css({left:"auto",right:0});}}},show:function(c){this.container.show();this.move();if(c){c.stopPropagation();c.preventDefault();}this.changed=false;this.element.trigger("shown",{target:c.target,picker:this});b(document).on("mousedown",b.proxy(this.hide,this));},hide:function(c){this.container.hide();b(document).off("mousedown",this.hide);if(this.changed){this.changed=false;this.notify();}},enterRange:function(f){var c=f.target.innerHTML;if(c==this.locale.customRangeLabel){this.updateView();}else{var d=this.ranges[c];this.container.find("input[name=daterangepicker_start]").val(d[0].toString(this.format));this.container.find("input[name=daterangepicker_end]").val(d[1].toString(this.format));}},clickRange:function(f){var c=f.target.innerHTML;if(c==this.locale.customRangeLabel){this.container.find(".calendar").show();this.move();}else{var d=this.ranges[c];this.startDate=d[0];this.endDate=d[1];this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.updateCalendars();this.changed=true;this.container.find(".calendar").hide();this.move();this.hide();}},clickPrev:function(d){var c=b(d.target).parents(".calendar");if(c.hasClass("left")){this.leftCalendar.month.add({months:-1});}else{this.rightCalendar.month.add({months:-1});}this.updateCalendars();},clickNext:function(d){var c=b(d.target).parents(".calendar");if(c.hasClass("left")){this.leftCalendar.month.add({months:1});}else{this.rightCalendar.month.add({months:1});}this.updateCalendars();},enterDate:function(f){var h=b(f.target).attr("data-title");var g=h.substr(1,1);var c=h.substr(3,1);var d=b(f.target).parents(".calendar");if(d.hasClass("left")){this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[g][c].toString(this.format));}else{this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[g][c].toString(this.format));}},clickDate:function(h){var k=b(h.target).attr("data-title");var j=k.substr(1,1);var d=k.substr(3,1);var g=b(h.target).parents(".calendar");if(g.hasClass("left")){startDate=this.leftCalendar.calendar[j][d];endDate=this.endDate;if(typeof this.dateLimit=="object"){var i=new Date(startDate).add(this.dateLimit);if(endDate.isAfter(i)){endDate=i;}}this.element.trigger("clicked",{dir:"left",picker:this});}else{startDate=this.startDate;endDate=this.rightCalendar.calendar[j][d];if(typeof this.dateLimit=="object"){var c={days:0-this.dateLimit.days,months:0-this.dateLimit.months,years:0-this.dateLimit.years};var f=new Date(endDate).add(c);if(startDate.isBefore(f)){startDate=f;}}this.element.trigger("clicked",{dir:"right",picker:this});}g.find("td").removeClass("active");if(startDate.equals(endDate)||startDate.isBefore(endDate)){b(h.target).addClass("active");if(!startDate.equals(this.startDate)||!endDate.equals(this.endDate)){this.changed=true;}this.startDate=startDate;this.endDate=endDate;}else{if(startDate.isAfter(endDate)){b(h.target).addClass("active");this.changed=true;this.startDate=startDate;this.endDate=startDate.clone().add(1).days();}}this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.updateCalendars();},clickApply:function(c){this.changed=true;this.hide();},clickClear:function(c){this.changed=true;this.cleared=true;this.hide();},updateYear:function(f){var c=parseInt(b(f.target).val());var g=b(f.target).closest(".calendar").hasClass("left");var d=g?this.leftCalendar:this.rightCalendar;d.month.set({month:d.month.getMonth(),year:c});if(this.dropdownAdjusts){this[g?"startDate":"endDate"].set({year:c});this.changed=true;}this.updateCalendars();},updateMonth:function(f){var d=parseInt(b(f.target).val());var g=b(f.target).closest(".calendar").hasClass("left");var c=g?this.leftCalendar:this.rightCalendar;c.month.set({month:d,year:c.month.getFullYear()});if(this.dropdownAdjusts){this[g?"startDate":"endDate"].set({month:d});this.changed=true;}this.updateCalendars();},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.getMonth(),this.leftCalendar.month.getFullYear());this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.getMonth(),this.rightCalendar.month.getFullYear());this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate));this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate));this.container.find(".ranges li").removeClass("active");var c=true;var e=0;for(var d in this.ranges){if(this.startDate.equals(this.ranges[d][0])&&this.endDate.equals(this.ranges[d][1])){c=false;this.container.find(".ranges li:eq("+e+")").addClass("active");}e++;}if(c){this.container.find(".ranges li:last").addClass("active");}this.element.trigger("updated",this);},buildCalendar:function(m,n){var c=Date.today().set({day:1,month:m,year:n});var k=c.clone().add(-1).day().getMonth();var j=c.clone().add(-1).day().getFullYear();var o=Date.getDaysInMonth(j,k);var e=c.getDay();var h=Array();for(var g=0;g<6;g++){h[g]=Array();}var l=o-e+this.locale.firstDay+1;if(l>o){l-=7;}if(e==this.locale.firstDay){l=o-6;}var f=Date.today().set({day:l,month:k,year:j});for(var g=0,d=0,p=0;g<42;g++,d++,f=f.clone().add(1).day()){if(g>0&&d%7==0){d=0;p++;}h[p][d]=f;}return h;},renderDropdowns:function(h,g,c){var k=h.getMonth();var f='<select class="monthselect">';var d=false;var p=false;for(var e=0;e<12;e++){if((!d||e>=g.getMonth())&&(!p||e<=c.getMonth())){f+="<option value='"+e+"'"+(e===k?" selected='selected'":"")+">"+this.locale.monthNames[e]+"</option>";}}f+="</select>";var j=h.getFullYear();var i=(c&&c.getFullYear())||(j+5);var o=(g&&g.getFullYear())||(j-50);var n='<select class="yearselect">';for(var l=o;l<=i;l++){n+='<option value="'+l+'"'+(l===j?' selected="selected"':"")+">"+l+"</option>";}n+="</select>";return f+n;},renderCalendar:function(h,g,f,c){var j='<table class="table-condensed">';j+="<thead>";j+="<tr>";if(this.showWeekNumbers){j+="<th></th>";}if(!f||f<h[1][1]){j+='<th class="prev available"><i class="icon-arrow-left"></i></th>';}else{j+="<th></th>";}var d=this.locale.monthNames[h[1][1].getMonth()]+h[1][1].toString(" yyyy");if(this.showDropdowns){d=this.renderDropdowns(h[1][1],f,c);}j+='<th colspan="5" style="width: auto">'+d+"</th>";if(!c||c>h[1][1]){j+='<th class="next available"><i class="icon-arrow-right"></i></th>';}else{j+="<th></th>";}j+="</tr>";j+="<tr>";if(this.showWeekNumbers){j+='<th class="week">'+this.locale.weekLabel+"</th>";}b.each(this.locale.daysOfWeek,function(n,m){j+="<th>"+m+"</th>";});j+="</tr>";j+="</thead>";j+="<tbody>";for(var l=0;l<6;l++){j+="<tr>";if(this.showWeekNumbers){j+='<td class="week">'+h[l][0].getWeek()+"</td>";}for(var e=0;e<7;e++){var i="available ";i+=(h[l][e].getMonth()==h[1][1].getMonth())?"":"off";g.setHours(0,0,0,0);if((f&&h[l][e]<f)||(c&&h[l][e]>c)){i=" off disabled ";}else{if(h[l][e].equals(g)){i+=" active ";if(h[l][e].equals(this.startDate)){i+=" start-date ";}if(h[l][e].equals(this.endDate)){i+=" end-date ";}}else{if(h[l][e]>=this.startDate&&h[l][e]<=this.endDate){i+=" in-range ";if(h[l][e].equals(this.startDate)){i+=" start-date ";}if(h[l][e].equals(this.endDate)){i+=" end-date ";}}}}var k="r"+l+"c"+e;j+='<td class="'+i.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+k+'">'+h[l][e].getDate()+"</td>";}j+="</tr>";}j+="</tbody>";j+="</table>";return j;}};b.fn.daterangepicker=function(d,c){this.each(function(){var e=b(this);if(!e.data("daterangepicker")){e.data("daterangepicker",new a(e,d,c));}});return this;};}(window.jQuery);